import React, { Component, createContext } from 'react';

import boardAPI from '../boardAPI';

const { Provider, Consumer } = createContext();
class UserProvider extends Component {
  state = {
    username: '',
    password: ''
  }
  changeInput = () => {
    this.setState({
      username: username,
      password: password
    })
  }
  login = async () => {
    const payload = {
      username: this.state.username,
      password: this.state.password
    };
    const res = await boardAPI.post('/users/login', payload);
    localStorage.setItem('token', `Bearer ${res.data}`);
  }
  render() {
    return (
      <Provider>
        {this.props.children}
      </Provider>
    );
  }
}

export { UserProvider, Consumer as UserConsumer };